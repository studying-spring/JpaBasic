# 다중성
## 단방향, 양방향
- 테이블은 방향이 없음. 외래키 하나로 양쪽 조인이 가능
- 그런데 객체는 참조용 필드가 있어야 가능.
- 그래서 한쪽만 참조하면 단방향, 양쪽은 양방향(사실 단방향 두개)
## 다대일
- 다에 외래키 가라, 다가 연관관계 주인
## 일대다
- 1이 연관관계 주인?!
- 업데이트 쿼리를 한번 더 날려야된다. -> 좀 손해
- 테이블이 많은 실무에서 권장되지 않는다. 복잡해짐, 외래키가 다른 테이블에 있기 때문
- joincolumn을 꼭 넣어야한다.
- 다대일 양방향 매핑을 사용하자!

## 일대일
![img.png](img.png)
- 두 개의 테이블 중에서 아무거나 외래키를 넣을 수 있다.
- 주테이블이나 대상 테이블에 외래키
- 외래키에 유니크 제약조건을 추가
- 멤버 - 사물함 관계
- 라커가 주인이 되면 양방향을 걸어주어야함. 그래서 지연로딩해도 라커 테이블까지 다 로딩됨. 좀 안좋음
- 즉, 라커 테이블을 뒤져서 member를 조회해야함
- 일대일 관계는 내 엔티티를 직접 관리.
- 멤버에 락커가 있으면 좋다. 즉 주 테이블에 외래 키를 넣자~

## 다대다
- 결론: 실무에서는 쓰지 마라
- 연결 테이블을 추가해서 일대다, 다대일 관계로 풀어야한다.
- 근데 멤버 - 상품은 주문시간이나 수량 같은 데이터가 들어올 수 있다.
![img_1.png](img_1.png)
- pk는 id를 하고, member_id와 product_id를 fk로 받아라.